#open "naturals.def".
#open "lists.def".

#define "insert x l1 l2 :=
  (l1 = nil, l2 = cons x nil);
  (sigma h\ t\
    l1 = cons h t,
    leq x h,
    l2 = cons x l1);
  (sigma h\ t\ tt\
    ll = cons h t,
    l2 = cons h tt,
    gt x h,
    insert x t tt)".

#define "sorted x :=
  (x = nil);
  (sigma y\ x = cons y nil);
  (sigma c1\ c2\ xs1\ xs2\
    x = cons c1 xs1,
    xs1 = cons c2 xs2,
    leq c1 c2,
    sorted xs1)".

#define "sort x y :=
  (x = nil, y = nil) ;
  (sigma hd\tl\stl\ x = cons hd tl, sort tl stl, insert hd stl y)".
