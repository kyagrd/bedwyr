<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<span class="Comment">% Define the graph (un)reachability problem.</span>
<span class="Statement">Type</span> a<span class="Special">,</span> b<span class="Special">,</span> c<span class="Special">,</span> d<span class="Special">,</span> e<span class="Special">,</span> f     i<span class="Special">.</span>

<span class="Statement">Define</span> adj <span class="Special">:</span> <span class="Statement">(</span>i <span class="Special">-&gt;</span> i <span class="Special">-&gt;</span> bool<span class="Statement">)</span> <span class="Special">-&gt;</span> <span class="Type">prop</span> <span class="Statement">by</span>
  adj <span class="Statement">(</span>mu2 adj<span class="Statement">\</span>x<span class="Statement">\</span>y<span class="Statement">\</span>
      <span class="Statement">(</span>oplus <span class="Statement">(</span>eq <span class="Statement">(</span>pr x y<span class="Statement">)</span> <span class="Statement">(</span>pr a b<span class="Statement">))</span>
      <span class="Statement">(</span>oplus <span class="Statement">(</span>eq <span class="Statement">(</span>pr x y<span class="Statement">)</span> <span class="Statement">(</span>pr b c<span class="Statement">))</span>
             <span class="Statement">(</span>eq <span class="Statement">(</span>pr x y<span class="Statement">)</span> <span class="Statement">(</span>pr c b<span class="Statement">)))))</span><span class="Special">.</span>

<span class="Comment">% Proper path (transitive closure of adj, doesn't assume reflexivity)</span>
<span class="Statement">Define</span> path <span class="Special">:</span> <span class="Statement">(</span>i <span class="Special">-&gt;</span> i <span class="Special">-&gt;</span> bool<span class="Statement">)</span> <span class="Special">-&gt;</span> <span class="Type">prop</span> <span class="Statement">by</span>
  path <span class="Statement">(</span>mu2 path<span class="Statement">\</span>x<span class="Statement">\</span>y<span class="Statement">\</span> <span class="Statement">(</span>oplus <span class="Statement">(</span><span class="Identifier">Adj</span> x y<span class="Statement">)</span> <span class="Statement">(</span>some z<span class="Statement">\</span> <span class="Statement">(</span>tensor <span class="Statement">(</span><span class="Identifier">Adj</span> x z<span class="Statement">)</span> <span class="Statement">(</span>path z y<span class="Statement">)))))</span> <span class="Special">:=</span> adj <span class="Identifier">Adj</span><span class="Special">.</span>

<span class="Comment">%% Improper path (transitive-reflexive closure, includes the diagonal)</span>
<span class="Comment">%Define ipath : (i -&gt; i -&gt; bool) -&gt; prop by</span>
<span class="Comment">%  ipath (mu2 path\x\y\ (oplus (eq x y) (some z\ (tensor (Adj x z) (path z y))))) := adj Adj.</span>
